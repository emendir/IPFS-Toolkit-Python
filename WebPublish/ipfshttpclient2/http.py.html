<html>
<head>
  <meta charset="UTF-8">
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <link rel="stylesheet" href="https://rawgithub.com/highlightjs/cdn-release/master/build/styles/atom-one-dark.min.css">
  <script src="https://rawgithub.com/highlightjs/cdn-release/master/build/highlight.min.js"></script>
  <script src="https://rawgithub.com/highlightjs/cdn-release/master/build/languages/python.min.js"></script>
  <style>
    body {
      margin: 0px;
      padding: 15px;
      font-size: 12
    }
    .hljs {
      margin: -15px;
      word-wrap: break-word;
    }
    body, .hljs {
      font-family: Menlo, Consolas, DejaVu Sans Mono, monospace;
    }
    .number {
      float:left;
      text-align: right;
      display: inline-block;
      margin-right: 5px;
    }
    .ln {
      opacity: 0.5;
    }
    pre {
      tab-size:      4;
    }
  </style>
</head>
<body>
<pre><code class="py">
&quot;&quot;&quot;Default HTTP client selection proxy&quot;&quot;&quot;
import os
import typing as ty

from .http_common import (
	ClientSyncBase,
	StreamDecodeIteratorSync,
	
	addr_t, auth_t, cookies_t, headers_t, params_t, reqdata_sync_t, timeout_t,
	workarounds_t,
)


__all__ = (
	&quot;addr_t&quot;, &quot;auth_t&quot;, &quot;cookies_t&quot;, &quot;headers_t&quot;, &quot;params_t&quot;, &quot;reqdata_sync_t&quot;,
	&quot;timeout_t&quot;, &quot;workarounds_t&quot;,
	
	&quot;build_client_sync&quot;,
	&quot;StreamDecodeIteratorSync&quot;,
)

PREFER_HTTPX = (os.environ.get(&quot;PY_IPFS_HTTP_CLIENT_PREFER_HTTPX&quot;, &quot;no&quot;).lower()
                not in (&quot;0&quot;, &quot;f&quot;, &quot;false&quot;, &quot;n&quot;, &quot;no&quot;))

if PREFER_HTTPX:  # pragma: http-backend=httpx
	try:
		from . import http_httpx as _backend
	except ImportError:
		from . import http_requests as _backend  # type: ignore[no-redef]
else:  # pragma: http-backend=requests
	try:
		from . import http_requests as _backend  # type: ignore[no-redef]
	except ImportError:  # pragma: no cover
		from . import http_httpx as _backend


def build_client_sync(  # type: ignore[no-any-unimported]
		addr: addr_t,
		base: str,
		offline: bool = False,
		auth: auth_t = None,
		cookies: cookies_t = None,
		headers: headers_t = None,
		timeout: timeout_t = 120
) -&gt; ClientSyncBase[ty.Any]:

	return _backend.ClientSync(
		addr=addr,
		base=base,
		offline=offline,
		auth=auth,
		cookies=cookies,
		headers=headers or ty.cast(ty.Dict[str, str], {}),
		timeout=timeout
	)

</code></pre>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  setTimeout(function() {
    $(".number").css("width", "20px");
    $(".number span").attr("class", "ln hljs-subst");
    resize();
    var timer = false;
    $(window).resize(function() {
      if (timer !== false) {
        clearTimeout(timer);
      }
      timer = setTimeout(function() {
        resize();
      }, 200);
    })

  }, 100);
  function resize() {
    $("span.code").each(function(i, c) {
      var h = $(c).height();
      $(c).prev().height(h);
    });
  }
</script>
</body>
</html>