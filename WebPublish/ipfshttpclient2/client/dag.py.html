<html>
<head>
  <meta charset="UTF-8">
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <link rel="stylesheet" href="https://rawgithub.com/highlightjs/cdn-release/master/build/styles/atom-one-dark.min.css">
  <script src="https://rawgithub.com/highlightjs/cdn-release/master/build/highlight.min.js"></script>
  <script src="https://rawgithub.com/highlightjs/cdn-release/master/build/languages/python.min.js"></script>
  <style>
    body {
      margin: 0px;
      padding: 15px;
      font-size: 12
    }
    .hljs {
      margin: -15px;
      word-wrap: break-word;
    }
    body, .hljs {
      font-family: Menlo, Consolas, DejaVu Sans Mono, monospace;
    }
    .number {
      float:left;
      text-align: right;
      display: inline-block;
      margin-right: 5px;
    }
    .ln {
      opacity: 0.5;
    }
    pre {
      tab-size:      4;
    }
  </style>
</head>
<body>
<pre><code class="py">
from . import base

from .. import multipart
from .. import utils


class Section(base.SectionBase):
	@base.returns_single_item(base.ResponseBase)
	def get(self, cid: base.cid_t, **kwargs: base.CommonArgs):
		&quot;&quot;&quot;Retrieves the contents of a DAG node

		.. code-block:: python

			&gt;&gt;&gt; client.dag.get(&#x27;QmTkzDwWqPbnAh5YiV5VwcTLnGdwSNsNTn2aDxdXBFca7D&#x27;)
			{&#x27;Data&#x27;: &#x27;\x08\x01&#x27;,
			 &#x27;Links&#x27;: [
				{&#x27;Hash&#x27;: &#x27;Qmd2xkBfEwEs9oMTk77A6jrsgurpF3ugXSg7dtPNFkcNMV&#x27;,
				 &#x27;Name&#x27;: &#x27;Makefile&#x27;,          &#x27;Size&#x27;: 174},
				{&#x27;Hash&#x27;: &#x27;QmeKozNssnkJ4NcyRidYgDY2jfRZqVEoRGfipkgath71bX&#x27;,
				 &#x27;Name&#x27;: &#x27;example&#x27;,           &#x27;Size&#x27;: 1474},
				{&#x27;Hash&#x27;: &#x27;QmZAL3oHMQYqsV61tGvoAVtQLs1WzRe1zkkamv9qxqnDuK&#x27;,
				 &#x27;Name&#x27;: &#x27;home&#x27;,              &#x27;Size&#x27;: 3947},
				{&#x27;Hash&#x27;: &#x27;QmZNPyKVriMsZwJSNXeQtVQSNU4v4KEKGUQaMT61LPahso&#x27;,
				 &#x27;Name&#x27;: &#x27;lib&#x27;,               &#x27;Size&#x27;: 268261},
				{&#x27;Hash&#x27;: &#x27;QmSY8RfVntt3VdxWppv9w5hWgNrE31uctgTiYwKir8eXJY&#x27;,
				 &#x27;Name&#x27;: &#x27;published-version&#x27;, &#x27;Size&#x27;: 55}
			]}

		Parameters
		----------
		cid
			Key of the object to retrieve, in CID format

		Returns
		-------
			dict
				Cid with the address of the dag object
		&quot;&quot;&quot;
		args = (str(cid),)
		return self._client.request(&#x27;/dag/get&#x27;, args, decoder=&#x27;json&#x27;, **kwargs)

	@base.returns_single_item(base.ResponseBase)
	def put(self, data: utils.clean_file_t, format: str = &#x27;cbor&#x27;,
	        input_enc: str = &#x27;json&#x27;, **kwargs: base.CommonArgs):
		&quot;&quot;&quot;Decodes the given input file as a DAG object and returns their key

		.. code-block:: python

			&gt;&gt;&gt; client.dag.put(io.BytesIO(b&#x27;&#x27;&#x27;
			...       {
			...           &quot;Data&quot;: &quot;another&quot;,
			...           &quot;Links&quot;: [ {
			...               &quot;Name&quot;: &quot;some link&quot;,
			...               &quot;Hash&quot;: &quot;QmXg9Pp2ytZ14xgmQjYEiHjVjMFXzCV â€¦ R39V&quot;,
			...               &quot;Size&quot;: 8
			...           } ]
			...       }&#x27;&#x27;&#x27;))
			{&#x27;Cid&#x27;: {
					&#x27;/&#x27;: &#x27;bafyreifgjgbmtykld2e3yncey3naek5xad3h4m2pxmo3of376qxh54qk34&#x27;
				}
			}

		Parameters
		----------
		data
			IO stream object of path to a file containing the data to put
		format
			Format that the object will be added as. Default: cbor
		input_enc
			Format that the input object will be. Default: json

		Returns
		-------
			dict
				Cid with the address of the dag object
		&quot;&quot;&quot;
		opts = {&#x27;format&#x27;: format, &#x27;input-enc&#x27;: input_enc}
		kwargs.setdefault(&#x27;opts&#x27;, {}).update(opts)
		body, headers = multipart.stream_files(data, chunk_size=self.chunk_size)
		return self._client.request(&#x27;/dag/put&#x27;, decoder=&#x27;json&#x27;, data=body,
		                            headers=headers, **kwargs)

	@base.returns_single_item(base.ResponseBase)
	def resolve(self, cid: base.cid_t, **kwargs: base.CommonArgs):
		&quot;&quot;&quot;Resolves a DAG node from its CID, returning its address and remaining path

		.. code-block:: python

			&gt;&gt;&gt; client.dag.resolve(&#x27;QmTkzDwWqPbnAh5YiV5VwcTLnGdwSNsNTn2aDxdXBFca7D&#x27;)
			{&#x27;Cid&#x27;: {
					&#x27;/&#x27;: &#x27;QmTkzDwWqPbnAh5YiV5VwcTLnGdwSNsNTn2aDxdXBFca7D&#x27;
				}
			}

		Parameters
		----------
		cid
			Key of the object to resolve, in CID format

		Returns
		-------
			dict
				Cid with the address of the dag object
		&quot;&quot;&quot;
		args = (str(cid),)
		return self._client.request(&#x27;/dag/resolve&#x27;, args, decoder=&#x27;json&#x27;, **kwargs)

	@base.returns_single_item(base.ResponseBase)
	def imprt(self, data: utils.clean_file_t, **kwargs: base.CommonArgs):
		&quot;&quot;&quot;Imports a .car file with a DAG into IPFS

		.. code-block:: python

			&gt;&gt;&gt; with open(&#x27;data.car&#x27;, &#x27;rb&#x27;) as file
			...     client.dag.imprt(file)
			{&#x27;Root&#x27;: {
					&#x27;Cid&#x27;: {
						&#x27;/&#x27;: &#x27;bafyreidepjmjhvhlvp5eyxqpmyyi7rxwvl7wsglwai3cnvq63komq4tdya&#x27;
					}
				}
			}

		*Note*: This method is named &#x60;&#x60;.imprt&#x60;&#x60; (rather than &#x60;&#x60;.import&#x60;&#x60;) to avoid causing a Python
		:exc:&#x60;SyntaxError&#x60; due to &#x60;&#x60;import&#x60;&#x60; being global keyword in Python.

		Parameters
		----------
		data
			IO stream object with data that should be imported

		Returns
		-------
			dict
				Dictionary with the root CID of the DAG imported
		&quot;&quot;&quot;
		body, headers = multipart.stream_files(data, chunk_size=self.chunk_size)
		return self._client.request(&#x27;/dag/import&#x27;, decoder=&#x27;json&#x27;, data=body,
		                            headers=headers, **kwargs)

	def export(self, cid: str, **kwargs: base.CommonArgs):
		&quot;&quot;&quot;Exports a DAG into a .car file format

		.. code-block:: python

			&gt;&gt;&gt; data = client.dag.export(&#x27;bafyreidepjmjhvhlvp5eyxqpmyyi7rxwvl7wsglwai3cnvq63komq4tdya&#x27;)

		*Note*: When exporting larger DAG structures, remember that you can set the *stream*
		parameter to &#x60;&#x60;True&#x60;&#x60; on any method to have it return results incrementally.

		Parameters
		----------
		cid
			Key of the object to export, in CID format

		Returns
		-------
			bytes
				DAG in a .car format
		&quot;&quot;&quot;
		args = (str(cid),)
		return self._client.request(&#x27;/dag/export&#x27;, args, **kwargs)

</code></pre>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  setTimeout(function() {
    $(".number").css("width", "20px");
    $(".number span").attr("class", "ln hljs-subst");
    resize();
    var timer = false;
    $(window).resize(function() {
      if (timer !== false) {
        clearTimeout(timer);
      }
      timer = setTimeout(function() {
        resize();
      }, 200);
    })

  }, 100);
  function resize() {
    $("span.code").each(function(i, c) {
      var h = $(c).height();
      $(c).prev().height(h);
    });
  }
</script>
</body>
</html>